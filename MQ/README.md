# examples MQ
MQ 프레임워크 분석, 정리
  

## AMQP와 ZeroMQ의 차이
AMQP는 프로토콜이고, ZeroMQ는 메시징 라이브러리이다.  
AMQP는 흐름 제어와 안정적인 전달을 제공한다. 이것은 메시지에 대한 표준이지만 확장 가능한 메타 데이터(예를 들어, 회신, 유효 기간, 그리고 모든 응용 프로그램 정의 헤더)를 정의한다.  
ZeroMQ는 단순히 메시지의 구분(바이트 스트림을 원자 단위로 분할하는 등)를 제공하는 것만으로, 기본이 되는 프로토콜(TCP 등)의 속성이 충분한지 또는 응용 프로그램이 ZeroMQ에 상의 흐름 제어, 신뢰성 등의 기능을 추가한 것이다.  
  
AMQP의 초기 버전은 클라이언트/서버 라인에 따라 정의 되어 있었기 때문에 브로커를 필요로 했지만 이것은 본질적으로 대칭적인 피어 투 피어 프로토콜인 AMQP 1.0에는 적용되지 않았다.  
중개인(브로커 등)에 대한 규칙은 그 위에 중층 되어 있다. 중개업자와 중개 업체를 비교한  알렉시스의 링크는 이런 중개자가 제공 할 수 있는 장점의 좋은 설명을 제공한다.  
AMQP는 클라이언트, 스마트 클라이언트, 브로커, 브릿지, 라우터 등 다양한 구성 요소 간의 상호 운용성에 관한 규칙을 정의하고 있다.   
편리한 부분을 선택하여 시스템을 구성 할 수 있도록 한다.  
    
       
## Zeromq와 Nanomsg(or nng)  
- 기능, 성능 측면에서는 Nanomsg가 더 좋다.
- 특히 Windows의 경우 IOCP를 지원한고, nng에서 비동기IO API를 제공한다.
- nanomsg의 가장 큰 단점은 커뮤니티가 작다는 것이다.
    - 사용하는 유저가 작다
    - 배울 수 있는 자료가 부족하다
- *꼭 필요로 하는 기능이 nanomsg에 있다면* nanomsg를 사용하는 것이 좋지만 그 이외에는 zeromq가 더 좋다고 생각한다
    - 사용자가 많아서 더 신뢰성 있다.
    - 문제 발생 시 물어보기 좋다.
    - 공부할 수 있는 자료가 훨씬 많다(nanomsg의 경우 너무 부족하다)

